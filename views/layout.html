<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>{{title}}</title>
    <meta name="viewport" content="width=device-width, user-scalable=no" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <link rel="stylesheet" href="/main.css" />
    {% block style %} {% endblock %}
  </head>

  <body>
    <header>
      <div class="layout-profile">
        {% if user and user.userId %}
        <div class="layout-left-title">
          <div class="layout-profile-title"><a href="/"><img src="/image/logo.png" id="logoImage" /></a></div>
        </div>
        <div class="search">
          <!-- 검색 -->
          <form action="/search" method="get" class="search-form">
            <input
              type="text"
              class="search-bar"
              name="query"
              placeholder="검색어를 입력하세요."
            />
        
            <input type="submit" class="search-button" value="" />
          </form>
          <!-- 검색 -->
        </div>
        <div class="layout-right-title">
          <div class="layout-profile-title">
            <a href="/classRegi">클래스등록</a>
          </div>
          <div class="layout-profile-title">
            <a href="/mypage" id="my-profile">마이페이지</a>
          </div>
          <div class="layout-profile-title">
            <a href="/auth/logout" id="logout">로그아웃</a>
          </div>
        </div>

        {% else %}
        <div class="layout-left-title">
          <div class="layout-profile-title"><a href="/"><img src="/image/logo.png" id="logoImage" /></a></div>
        </div>
        <div class="search">
          <!-- 검색 -->
          <form action="/search" method="get" class="search-form">
            <input
              type="text"
              class="search-bar"
              name="query"
              placeholder="검색어를 입력하세요."
            />
            <input type="submit" class="search-button" value="" />
          </form>
          <!-- 검색 -->
        </div>
        <div class="layout-right-title">
          <div class="layout-profile-title">
            <a href="/classRegi">클래스등록</a>
          </div>
          <div class="layout-profile-title">
            <a href="/login">로그인</a>
          </div>
          <div class="layout-profile-title">
            <a href="/prejoin">회원가입</a>
          </div>
        </div>
        {% endif %}
      </div>
    </header>

    <main class="layout-main">{% block content %} {% endblock %}</main>
    <footer>
      <div class="layout-footer">
        <div class="footerLogo">
          <a href="/"><img src="/image/logo.png" id="footerLogoImage" /></a>
        </div>
        <div class="layout-copyright">
          <a href="/notice">공지사항</a> | <a href="/qna">문의사항</a> |
          <a href="/terms">이용약관</a> |
          <a href="/privacy">개인정보 처리 방침</a><br />
          © Copyright 2021 원클. All rights reserved.
          <br />
          원클(OnedayClass) | 서울특별시 강동구 천호대로 995 금복빌딩 3,4층
          경일게임아카데미(지하철 5,8호선 1번출구 10m이내) | TEL : 02-479-4050 |
          클라우드 호스팅: Amazon Web Services Inc. | 원클 은 전자상거래
          등에서의 소비자보호에 관한 법률에 따른 통신판매업과 통신판매중개업을
          영위하고 있습니다. 원클 은 통신판매중개자로서 중개하는 통신판매에
          관하여서는 통신판매의 당사자가 아니므로 어떠한 책임도 부담하지
          아니합니다.
        </div>
        </div>
      </div>
    </footer>
    <!-- script -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script>
      window.onload = () => {
        if (new URL(location.href).searchParams.get("loginError")) {
          alert(new URL(location.href).searchParams.get("loginError"));
        }
      };
    </script>

    {% block script %} {% endblock %}
  </body>
</html>
